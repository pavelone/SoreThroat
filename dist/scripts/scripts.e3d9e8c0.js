"use strict";function HeaderController(a,b){a.isActive=function(a){return a===b.path()},a.pageName=function(){switch(b.path()){case"/":case"/demographics":return"Demographics";case"/chiefcompl":return"Chief Complaint";case"/ruleout":return"Rule Out Clinical Emergencies";case"/hpi":return"History of Present Illness";case"/fhandsh":return"Family History and Social History";case"/currentmeds":return"Current Medications";case"/allergies":return"Allergies";case"/differentialdiag":return"Differential Diagnosis";case"/physicalexam":return"Physical Examination";case"/treatment":return"Treatment";case"/education":return"Aftercare Instructions";default:return"What a page!!!"}}}var throatApp=angular.module("throatApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","formstamp","ngGrid"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/demographics.html",controller:"PatientCtrl"}).when("/chiefcompl",{templateUrl:"views/chiefcompl.html",controller:"ChiefComplCtrl"}).when("/demographics",{templateUrl:"views/demographics.html",controller:"PatientCtrl"}).when("/ruleout",{templateUrl:"views/ruleout.html",controller:"RuleOutCtrl"}).when("/hpi",{templateUrl:"views/hpi.html",controller:"HPICtrl"}).when("/fhandsh",{templateUrl:"views/fhandsh.html",controller:"FHAndSHCtrl"}).when("/currentmeds",{templateUrl:"views/currentmeds.html",controller:"CurrentMedsCtrl"}).when("/allergies",{templateUrl:"views/allergies.html",controller:"AllergiesCtrl"}).when("/differentialdiag",{templateUrl:"views/differentialdiag.html",controller:"DifferentialDiagCtrl"}).when("/physicalexam",{templateUrl:"views/physicalexam.html",controller:"PhysicalExamCtrl"}).when("/treatment",{templateUrl:"views/treatment.html",controller:"TreatmentCtrl"}).when("/education",{templateUrl:"views/education.html",controller:"EducationCtrl"}).otherwise({redirectTo:"/"})}]);throatApp.factory("Data",function(){function a(a){c=a}function b(){return c}var c={demographics:{employeeID:12345,firstName:"John",lastName:"Dow",sex:"Male",dateOfBirth:new Date("July 21, 1983 01:15:00"),age:31,guardian:"Someone",streetAddress:"123 Happy Str.",apartmentNumber:"8",city:"Happy City",state:"California",zip:"90123",phone:"123-123-1234",email:"johndow@gmail.com"},chiefComplaint:[],emergentSymptoms:[],emergentDiagnoses:[],otherSymptoms:[],HPI:{historyOfPresentIllness:[],episodesPastYear:0,episodes2ndYear:0,episodes3rdYear:0},familyHistory:[],familyHistoryComments:"",currentMeds:{currentMedicationChecks:[],currentMedications:[]},allergies:{allergiesChecks:[],allergies:[]},differentialDiagnosis:{bacterialPharyngitisCauses:[{diag:"GABHS",edu:"http://www.niaid.nih.gov/topics/strep/Pages/Default.aspx"},{diag:"Mycoplasma pneumonia (5% to 16% of cases of pharyngitis in children older than age 6)",edu:"http://www.nlm.nih.gov/medlineplus/ency/article/000082.htm"},{diag:"Neisseria gonorrhoeae (ask about sexual history)",edu:"http://www.nlm.nih.gov/medlineplus/gonorrhea.html"},{diag:"non-Group A streptococci (Group C and G)",edu:"http://google.com"},{diag:"Corynebacterium diphtheriae (hallmarked by the formation of a tightly adhering gray membrane that bleeds when dislodged)",edu:"http://www.nlm.nih.gov/medlineplus/ency/article/001608.htm"}],otherBacterialPathogens:[{diag:"Staphylococcus aureus",edu:"http://google.com"},{diag:"Haemophilus influenzae",edu:"http://google.com"},{diag:"Moraxella catarrhalis",edu:"http://google.com"},{diag:"Bacteroides fragilis",edu:"http://google.com"},{diag:"Bacteroides oralis",edu:"http://google.com"},{diag:"Bacteroides melaninogenicus",edu:"http://google.com"},{diag:"Fusobacterium species",edu:"http://google.com"},{diag:"Peptostreptococcus species",edu:"http://google.com"},{diag:"Chlamydia trachomatis",edu:"http://google.com"}],viralCauses:[{diag:"Viral pharyngitis (Rhinovirus, nearly 20% of pharyngitis cases or Adenovirus)",edu:"http://www.nlm.nih.gov/medlineplus/ency/article/001392.htm"},{diag:"Laryngitis",edu:"http://google.com"},{diag:"Mononucleosis",edu:"http://www.nlm.nih.gov/medlineplus/infectiousmononucleosis.html"},{diag:"Upper Respiratory Infections",edu:"http://google.com"}],otherViralCauses:[{diag:"Epstein–Barr virus",edu:"http://google.com"},{diag:"cytomegalovirus",edu:"http://google.com"},{diag:"herpes simplex virus",edu:"http://google.com"},{diag:"respiratory syncytial virus",edu:"http://google.com"},{diag:"HIV",edu:"http://google.com"},{diag:"parainfluenza",edu:"http://google.com"},{diag:"influenza",edu:"http://google.com"},{diag:"enterovirus",edu:"http://google.com"},{diag:"coronavirus",edu:"http://google.com"}],other:[]},vitals:{weight:0,temperature:0},centorScore:[],testing:{rst:null},pe:{provisionalDiagnosis:"",diagnosisDescription:"",symptomsObserved:[],symptomsNotObserved:[]},recommendations:{treatmentDecision:"",treatmentReason:"",cultureDecision:"",cultureReason:""},treatment:{workingDiagnosis:[],labTests:[],firstLine:[],secondLine:[],systemicTherapy:[],topicalTherapy:[],corticosteroids:[]},aftercare:{notes:"",workingDiagnosis:[],labTests:[],firstLine:[],secondLine:[],systemicTherapy:[],topicalTherapy:[],corticosteroids:[]}};return{set:a,get:b}}),angular.module("throatApp").controller("PatientCtrl",["$scope","Data",function(a,b){this.demographics=b.get().demographics,this.chiefComplaint=b.get().chiefComplaint,this.allergies=b.get().allergies,this.vitals=b.get().vitals,a.sex=["Male","Female"],a.states=["California","Nevada","Arizona","Colorado","Texas"],a.calcAge=function(){var a=new Date,c=new Date(b.get().demographics.dateOfBirth);b.get().demographics.age=Math.round((a-c)/31536e6)}}]),angular.module("throatApp").controller("ChiefComplCtrl",["$scope","Data",function(a,b){this.demographics=b.get().demographics,this.chiefComplaint=b.get().chiefComplaint,a.ccs=["Ear pain","Red eye and other eye complaints","Sore throat","Sinusitis","Cough and Upper Respiratory Tract Infections","Disuria and Urinary Complaints","Rashes","Fever","Other"]}]),angular.module("throatApp").controller("RuleOutCtrl",["$scope","Data",function(a,b){function c(a,b){switch(a.length){case 0:break;case 1:"none of the above"==a[0].diag?b.good++:b.bad++;break;default:b.bad++}}function d(){switch(a.canRuleOut()){case"none":a.thisPatient.classRuleOut="btn btn-lg btn-info",a.thisPatient.classReferToER="btn btn-lg btn-info",a.thisPatient.classCall911="btn btn-lg btn-info";break;case"ruleout":a.thisPatient.classRuleOut="btn btn-lg btn-success",a.thisPatient.classReferToER="btn btn-lg btn-info",a.thisPatient.classCall911="btn btn-lg btn-info";break;default:a.thisPatient.classRuleOut="btn btn-lg btn-info",a.thisPatient.classReferToER="btn btn-lg btn-warning",a.thisPatient.classCall911="btn btn-lg btn-danger"}}this.demographics=b.get().demographics,this.chiefComplaint=b.get().chiefComplaint[0],this.emergentSymptoms=b.get().emergentSymptoms,this.emergentDiagnoses=b.get().emergentDiagnoses,this.otherSymptoms=b.get().otherSymptoms,a.emergentSymptomsList=[{diag:"labored breathing"},{diag:"inability to swallow or obvious drooling"},{diag:"swelling of the face or neck"},{diag:"inability to open the mouth"},{diag:"severe pain"},{diag:"asymmetrical swelling of the soft palate"},{diag:"unilateral swelling of the pharynx or tonsils"},{diag:"deviation of the uvula"},{diag:"none of the above"}],a.emergentDiagnosesList=[{diag:"Epiglottitis",edu:"http://www.nlm.nih.gov/medlineplus/ency/article/000605.htm"},{diag:"Peritonsillar abscess",edu:"http://www.nlm.nih.gov/medlineplus/ency/article/000986.htm"},{diag:"Retropharyngeal abscess",edu:"http://www.nlm.nih.gov/medlineplus/ency/article/000984.htm"},{diag:"none of the above",edu:"http://google.com"}],a.otherSymptomsList=[{diag:"dehydrated patient"},{diag:"septic patient"},{diag:"none of the above"}],this.classRuleOut="btn btn-lg btn-info",this.classReferToER="btn btn-lg btn-info",this.classCall911="btn btn-lg btn-info",a.thisPatient=this,a.canRuleOut=function(){var b={good:0,bad:0};return c(a.thisPatient.emergentSymptoms,b),c(a.thisPatient.emergentDiagnoses,b),c(a.thisPatient.otherSymptoms,b),b.bad>0?"refer":3==b.good?"ruleout":"none"},a.$watch(a.canRuleOut,d)}]),angular.module("throatApp").controller("HPICtrl",["$scope","Data",function(a,b){this.demographics=b.get().demographics,this.chiefComplaint=b.get().chiefComplaint[0],this.emergentSymptoms=b.get().emergentSymptoms,this.emergentDiagnoses=b.get().emergentDiagnoses,this.otherSymptoms=b.get().otherSymptoms,this.HPI=b.get().HPI,a.historyOfPresentIllnessList=["History of Rheumatic Heart Disease","History of Peritonsillar Abscess","Recurrent strep"],this.isRecurrentStrep=function(){return-1==$.inArray("Recurrent strep",this.HPI.historyOfPresentIllness)?!1:!0},this.loadCDA=function(){this.HPI.historyOfPresentIllness=["Recurrent strep"],this.HPI.episodesPastYear=2,this.HPI.episodes2ndYear=1,this.HPI.episodes3rdYear=1}}]),angular.module("throatApp").controller("FHAndSHCtrl",["$scope","Data",function(a,b){this.demographics=b.get().demographics,this.chiefComplaint=b.get().chiefComplaint[0],this.familyHistory=b.get().familyHistory,this.familyHistoryComments=b.get().familyHistoryComments,a.familyHistoryList=["lives with children","family members or close contacts who were recently diagnosed with GABHS"]}]),angular.module("throatApp").controller("CurrentMedsCtrl",["$scope","Data",function(a,b){function c(a){var b=a.getMonth()+1,c=a.getDate();return a.getFullYear()+"/"+(10>b?"0":"")+b+"/"+(10>c?"0":"")+c}function d(a){return("0"+a.getHours()).slice(-2)+":"+("0"+a.getMinutes()).slice(-2)+":"+("0"+a.getSeconds()).slice(-2)}this.demographics=b.get().demographics,this.chiefComplaint=b.get().chiefComplaint[0],this.currentMeds=b.get().currentMeds,a.currentMedications=this.currentMeds.currentMedications;var e=new Date,f=new Date;f.setDate(f.getDate()-1),a.currentMedicationCheckList=["No known current medicaitons","Patient takes antibiotics currently"],this.gridOptions={data:"currentMedications",enableRowSelection:!0,columnDefs:[{field:"medication",displayName:"Medication",enableCellEdit:!0},{field:"route",displayName:"Route",enableCellEdit:!0},{field:"dosage",displayName:"Dosage",enableCellEdit:!0},{field:"frequency",displayName:"Frequency",enableCellEdit:!0},{field:"lastgiven",displayName:"Last Given",enableCellEdit:!0},{field:"timestamp",displayName:"Timestamp",enableCellEdit:!0}]},this.loadCurrentMeds=function(){a.currentMedications=[{medication:"Advil (Ibuprofen)",route:"Oral",dosage:"200mg",frequency:"once",lastgiven:c(e),timestamp:c(e)+" "+d(e),comments:"source: patient"},{medication:"Fortamet (Ibuprofen)",route:"Oral",dosage:"1000mg",frequency:"qhs (every day at bedtime)",lastgiven:c(f),timestamp:c(e)+" "+d(e),comments:"with evening meal"}],this.currentMeds.currentMedications=a.currentMedications}}]),angular.module("throatApp").controller("AllergiesCtrl",["$scope","Data",function(a,b){function c(a){var b=a.getMonth()+1,c=a.getDate();return a.getFullYear()+"/"+(10>b?"0":"")+b+"/"+(10>c?"0":"")+c}function d(a){return("0"+a.getHours()).slice(-2)+":"+("0"+a.getMinutes()).slice(-2)+":"+("0"+a.getSeconds()).slice(-2)}this.demographics=b.get().demographics,this.chiefComplaint=b.get().chiefComplaint[0],this.allergies=b.get().allergies,a.allergies=this.allergies.allergies;var e=new Date,f=new Date;f.setDate(f.getDate()-1),a.allergiesCheckList=["No known allergies","Patient has multiple antibiotic allergies or intolerance"],this.gridOptions={data:"allergies",enableRowSelection:!0,columnDefs:[{field:"substance",displayName:"Substance",enableCellEdit:!0},{field:"criticality",displayName:"Criticality",enableCellEdit:!0},{field:"reaction",displayName:"Reaction",enableCellEdit:!0},{field:"timestamp",displayName:"Timestamp",enableCellEdit:!0}]},this.loadAllergies=function(){a.allergies=[{substance:"Amoxicillin",criticality:"medium",reaction:"rash",timestamp:c(e)+" "+d(e),comments:"source: patient"}],this.allergies.allergies=a.allergies,this.allergies.allergiesChecks=[]}}]),angular.module("throatApp").controller("DifferentialDiagCtrl",["$scope","Data",function(a,b){this.demographics=b.get().demographics,this.chiefComplaint=b.get().chiefComplaint[0],this.emergentDiagnoses=b.get().emergentDiagnoses,this.differentialDiagnosis=b.get().differentialDiagnosis,this.showOther=!1,this.buttonLabel="Show Other",a.emergentDiagnosesList=[{diag:"Epiglottitis",edu:"http://www.nlm.nih.gov/medlineplus/ency/article/000605.htm"},{diag:"Peritonsillar abscess",edu:"http://www.nlm.nih.gov/medlineplus/ency/article/000986.htm"},{diag:"Retropharyngeal abscess",edu:"http://www.nlm.nih.gov/medlineplus/ency/article/000984.htm"},{diag:"none of the above",edu:"http://google.com"}],a.bacterialPharyngitisCausesList=[{diag:"GABHS",edu:"http://www.niaid.nih.gov/topics/strep/Pages/Default.aspx"},{diag:"Mycoplasma pneumonia (5% to 16% of cases of pharyngitis in children older than age 6)",edu:"http://www.nlm.nih.gov/medlineplus/ency/article/000082.htm"},{diag:"Neisseria gonorrhoeae (ask about sexual history)",edu:"http://www.nlm.nih.gov/medlineplus/gonorrhea.html"},{diag:"non-Group A streptococci (Group C and G)",edu:"http://google.com"},{diag:"Corynebacterium diphtheriae (hallmarked by the formation of a tightly adhering gray membrane that bleeds when dislodged)",edu:"http://www.nlm.nih.gov/medlineplus/ency/article/001608.htm"},{diag:"none of the above",edu:"http://google.com"}],a.otherBacterialPathogensList=[{diag:"Staphylococcus aureus",edu:"http://google.com"},{diag:"Haemophilus influenzae",edu:"http://google.com"},{diag:"Moraxella catarrhalis",edu:"http://google.com"},{diag:"Bacteroides fragilis",edu:"http://google.com"},{diag:"Bacteroides oralis",edu:"http://google.com"},{diag:"Bacteroides melaninogenicus",edu:"http://google.com"},{diag:"Fusobacterium species",edu:"http://google.com"},{diag:"Peptostreptococcus species",edu:"http://google.com"},{diag:"Chlamydia trachomatis",edu:"http://google.com"},{diag:"none of the above",edu:"http://google.com"}],a.viralCausesList=[{diag:"Viral pharyngitis (Rhinovirus, nearly 20% of pharyngitis cases or Adenovirus)",edu:"http://www.nlm.nih.gov/medlineplus/ency/article/001392.htm"},{diag:"Laryngitis",edu:"http://google.com"},{diag:"Mononucleosis",edu:"http://www.nlm.nih.gov/medlineplus/infectiousmononucleosis.html"},{diag:"Upper Respiratory Infections",edu:"http://google.com"},{diag:"none of the above",edu:"http://google.com"}],a.otherViralCausesList=[{diag:"Epstein–Barr virus",edu:"http://google.com"},{diag:"cytomegalovirus",edu:"http://google.com"},{diag:"herpes simplex virus",edu:"http://google.com"},{diag:"respiratory syncytial virus",edu:"http://google.com"},{diag:"HIV",edu:"http://google.com"},{diag:"parainfluenza",edu:"http://google.com"},{diag:"influenza",edu:"http://google.com"},{diag:"enterovirus",edu:"http://google.com"},{diag:"coronavirus",edu:"http://google.com"},{diag:"none of the above",edu:"http://google.com"}],this.toggleOther=function(){this.showOther=!this.showOther,this.buttonLabel=this.showOther?"Hide Other":"Show Other"}}]),angular.module("throatApp").controller("PhysicalExamCtrl",["$scope","Data",function(a,b){this.demographics=b.get().demographics,this.chiefComplaint=b.get().chiefComplaint[0],this.currentMeds=b.get().currentMeds,this.familyHistory=b.get().familyHistory,this.HPI=b.get().HPI,this.vitals=b.get().vitals,this.testing=b.get().testing,this.centorScore=b.get().centorScore,this.pe=b.get().pe,this.recommendations=b.get().recommendations,a.centorScoreList=["Tonsillar exudates","Cervical adenopathy","Presence of a fever (T > 38°C, 100.4°F)","Absence of a cough"],a.diffDiagnosisList=["Bacterial Pharyngitis (GABHS)","Viral Pharyngitis","Laryngitis","Mononucleosis","Upper Respiratory Infections"],a.typicalSymptomsList=[],a.notTypicalSymptomsList=[],a.rstList=["Positive","Negative","Do not perform"],this.checkRSTNecessity=function(){var a=!1,b="",c="";return-1!=$.inArray("Patient takes antibiotics currently",this.currentMeds.currentMedicationChecks)?(this.testing.rst="Do not perform",a=!0,b="Do not perform RST. ",c="Patient is taking antibiotics, this may result in a false negative. "):(this.demographics.age<15&&(b="Perform RST. ",c="It should be used as a first-line diagnostic test in all pediatric patients. "),this.demographics.age>=15&&this.centorScore.length>1&&(b="Perform RST. ",c="A score of 2 or more is suggestive of a GABHS infection and should have an RST performed. ")),{rstDecision:b,rstReason:c,rstDisabled:a}},this.updateCentorScore=function(){if(this.vitals.temperature>100.4&&-1==$.inArray("Presence of a fever (T > 38°C, 100.4°F)",this.centorScore)&&this.centorScore.push("Presence of a fever (T > 38°C, 100.4°F)"),this.vitals.temperature<=100.4&&-1!=$.inArray("Presence of a fever (T > 38°C, 100.4°F)",this.centorScore)){var a=$.inArray("Presence of a fever (T > 38°C, 100.4°F)",this.centorScore);this.centorScore.splice(a,1)}},this.checkCulture=function(){var a="",b="";return"Negative"==this.testing.rst&&this.demographics.age<15&&(a="Perform a throat culture.",b="Pediatric patient."),"Negative"==this.testing.rst&&this.demographics.age>15&&this.centorScore.length>=2&&(a="Perform a throat culture.",b="Adult patient with Centor Score > 2. "),"Negative"==this.testing.rst&&this.demographics.age>15&&-1!=$.inArray("lives with children",this.familyHistory)&&(""==a&&(a="Perform a throat culture."),b+="Patient lives with children. "),"Negative"==this.testing.rst&&this.demographics.age>15&&-1!=$.inArray("History of Rheumatic Heart Disease",this.HPI.historyOfPresentIllness)&&(""==a&&(a="Perform a throat culture."),b+="Patient has a personal history of rheumatic heart disease. "),""==a&&null!=this.testing.rst&&(b="Per documentation no indication to perform a throat culture. "),{cultureDecision:a,cultureReason:b}},this.checkTreatment=function(){var a="",b="";return-1!=$.inArray("family members or close contacts who were recently diagnosed with GABHS",this.familyHistory)&&(a="You can empirically treat a symptomatic patient for GABHS. ",b="Patient family members or close contacts were recently diagnosed with GABHS. "),4==this.centorScore.length&&(""==a&&(a="You can empirically treat a symptomatic patient for GABHS. "),b+="High clinical probability of GABHS (all four Centor criteria). "),-1!=$.inArray("History of Rheumatic Heart Disease",this.HPI.historyOfPresentIllness)&&(""==a&&(a="You can empirically treat a symptomatic patient for GABHS. "),b+="Patient has a personal history of rheumatic heart disease. "),"Positive"==this.testing.rst&&(a="Treat the patient for GABHS. ",b="Positive RST result. "),""==a&&null!=this.testing.rst&&(b="Per documentation no indication to perform GABHS treatment. "),{treatmentDecision:a,treatmentReason:b}},this.loadSymptoms=function(){switch(this.pe.provisionalDiagnosis){case"Bacterial Pharyngitis (GABHS)":a.typicalSymptomsList=["sore throat","abrupt onset of fever","headache","abdominal pain","nausea","vomiting","enlarged tender anterior cervical lymph nodes","erythematous uvula with tonsillar exudate","skin rash (scarlatiniform rash)"],a.notTypicalSymptomsList=["cough","significant rhinorrhea"],this.pe.diagnosisDescription="GABHS accounts for 15% to 30% of all cases of pharyngitis in children between the ages of 5 and 15 and up to 30% in adults. The incidence peaks in the winter and early spring because of favorable transmission conditions";break;case"Viral Pharyngitis":a.typicalSymptomsList=["sore throat"],a.notTypicalSymptomsList=[],this.pe.diagnosisDescription="Rhinovirus is responsible for nearly 20% of pharyngitis cases.";break;case"Laryngitis":a.typicalSymptomsList=["hoarseness"],a.notTypicalSymptomsList=[],this.pe.diagnosisDescription="Laryngitis is caused by swelling and inflammation of the larynx (voice box). It is most common in individuals aged 18 to 40 years.";break;case"Mononucleosis":a.typicalSymptomsList=["sore throat","fever","swollen lymph nodes","fatigue","general malaise"],a.notTypicalSymptomsList=[],this.pe.diagnosisDescription="Mononucleosis (“mono”) is a viral infection most commonly caused by the Epstein–Barr virus and affects all age groups, although it is more prevalent in those aged 15 to 17 years";break;case"Upper Respiratory Infections":a.typicalSymptomsList=["fever","increased nasal drainage","cough","sore throat","swelling"],a.notTypicalSymptomsList=[],this.pe.diagnosisDescription="";break;default:a.typicalSymptomsList=[],a.notTypicalSymptomsList=[],this.pe.diagnosisDescription=""}},this.updateRecommendations=function(){this.recommendations.cultureDecision=this.checkCulture().cultureDecision,this.recommendations.cultureReason=this.checkCulture().cultureReason,this.recommendations.treatmentDecision=this.checkTreatment().treatmentDecision,this.recommendations.treatmentReason=this.checkTreatment().treatmentReason,console.log(this.recommendations)}}]),angular.module("throatApp").controller("TreatmentCtrl",["$scope","Data",function(a,b){this.demographics=b.get().demographics,this.chiefComplaint=b.get().chiefComplaint[0],this.currentMeds=b.get().currentMeds,this.vitals=b.get().vitals,this.testing=b.get().testing,this.centorScore=b.get().centorScore,this.pe=b.get().pe,this.recommendations=b.get().recommendations,this.treatment=b.get().treatment,a.diffDiagnosisList=["Bacterial Pharyngitis (GABHS)","Viral Pharyngitis","Laryngitis","Mononucleosis","Upper Respiratory Infections"],a.labTestList=["Throat culture","Monospot test (for Mononucleosis)"],this.demographics.age<15?(a.firstLineList=["Oral penicillin V 2 to 50 mg/kg/d four times a day for 10 days","Amoxicillin dosing is 40 mg/kg/d three times a day for 10 days","Intramuscular penicillin G","Bicillin"],a.secondLineList=["Augmentin 40 mg/kg/d two to three times daily for 10 days","Erythromycin 40 mg/kg/d two to four times daily for 10 days","Azithromycin 12 mg/kg every day for 5 days or 20 mg/kg every day for 3 days","Cephalexin 25 to 50 mg/kg/d two to four times daily for 10 days"],a.systemicTherapyList=["Ibuprofen 10 mg/kg ","Acetaminophen 10-15 mg/kg PO q4-6h prn","Avoid aspirin and salicylates"],this.allergyWarning="Amoxicillin dosing is 40 mg/kg/d three times a day for 10 days; Amoxicillin 40 mg/kg/d contains Amoxicillin Trihydrate, which is closely related to the ingredient Amoxicillin. This patient's profile indicates Amoxicillin as an allergen. Amoxicillin 40 mg/kg/d poses the risk of causing an ingredient-based allergic reaction in this patient."):(a.firstLineList=["Oral penicillin V 500 mg two to three times daily for 10 days","Amoxicillin 500 mg three times a day for 10 days","Intramuscular penicillin G","Bicillin"],a.secondLineList=["Augmentin 500 to 875 mg twice a day for 10 days","Erythromycin 400 mg four times a day for 10 days","Azithromycin 500 mg on day 1 then 250 mg on days 2 to 5","Cephalexin 500 mg twice a day for 10 days"],a.systemicTherapyList=["Ibuprofen 400 mg","Acetaminophen 1,000 mg"],this.allergyWarning="Amoxicillin 500 mg three times a day for 10 days; Amoxicillin 500 mg contains Amoxicillin Trihydrate, which is closely related to the ingredient Amoxicillin. This patient's profile indicates Amoxicillin as an allergen. Amoxicillin 500 mg poses the risk of causing an ingredient-based allergic reaction in this patient."),a.topicalTherapyList=["Lozenges","Sprays","Gargles","Gargling with salt water","Lozenges with analgesics","Lozenges with ambroxol","Lozenges with lidocaine","Lozenges with menthol","Lozenges with benzocaine","Throat sprays"],a.corticosteroidsList=["dexamethasone at 0.6 mg/kg (max dose 10 mg in children) for severe cases of pain or difficulty swallowing","Dexamethasone 10 mg IM for severe cases of pain or difficulty swallowing","β-methasone 8 mg IM for severe cases of pain or difficulty swallowing","Prednisone 60 mg oral for severe cases of pain or difficulty swallowing"],this.isGABHS=function(){return-1!=$.inArray("Bacterial Pharyngitis (GABHS)",this.treatment.workingDiagnosis)},this.isAmoxicillin=function(){return-1!=$.inArray("Amoxicillin dosing is 40 mg/kg/d three times a day for 10 days",this.treatment.firstLine)||-1!=$.inArray("Amoxicillin 500 mg three times a day for 10 days",this.treatment.firstLine)}}]),angular.module("throatApp").controller("EducationCtrl",["$scope","Data",function(a,b){function c(a){return-1!=$.inArray(a.item,this)}this.demographics=b.get().demographics,this.chiefComplaint=b.get().chiefComplaint[0],this.currentMeds=b.get().currentMeds,this.vitals=b.get().vitals,this.testing=b.get().testing,this.centorScore=b.get().centorScore,this.pe=b.get().pe,this.recommendations=b.get().recommendations,this.treatment=b.get().treatment,a.aftercare=b.get().aftercare,a.diffDiagnosisList=[{item:"Bacterial Pharyngitis (GABHS)",edu:"http://google.com"},{item:"Viral Pharyngitis",edu:"http://google.com"},{item:"Laryngitis",edu:"http://google.com"},{item:"Mononucleosis",edu:"http://google.com"},{item:"Upper Respiratory Infections",edu:"http://google.com"}],a.labTestList=[{item:"Throat culture",edu:"http://google.com"},{item:"Monospot test (for Mononucleosis)",edu:"http://google.com"}],this.demographics.age<15?(a.firstLineList=[{item:"Oral penicillin V 2 to 50 mg/kg/d four times a day for 10 days",edu:"http://google.com"},{item:"Amoxicillin dosing is 40 mg/kg/d three times a day for 10 days",edu:"http://google.com"},{item:"Intramuscular penicillin G",edu:"http://google.com"},{item:"Bicillin",edu:"http://google.com"}],a.secondLineList=[{item:"Augmentin 40 mg/kg/d two to three times daily for 10 days",edu:"http://google.com"},{item:"Erythromycin 40 mg/kg/d two to four times daily for 10 days",edu:"http://google.com"},{item:"Azithromycin 12 mg/kg every day for 5 days or 20 mg/kg every day for 3 days",edu:"http://google.com"},{item:"Cephalexin 25 to 50 mg/kg/d two to four times daily for 10 days",edu:"http://google.com"}],a.systemicTherapyList=[{item:"Ibuprofen 10 mg/kg ",edu:"http://google.com"},{item:"Acetaminophen 10-15 mg/kg PO q4-6h prn",edu:"http://google.com"},{item:"Avoid aspirin and salicylates",edu:"http://google.com"}]):(a.firstLineList=[{item:"Oral penicillin V 500 mg two to three times daily for 10 days",edu:"http://google.com"},{item:"Amoxicillin 500 mg three times a day for 10 days",edu:"http://google.com"},{item:"Intramuscular penicillin G",edu:"http://google.com"},{item:"Bicillin",edu:"http://google.com"}],a.secondLineList=[{item:"Augmentin 500 to 875 mg twice a day for 10 days",edu:"http://google.com"},{item:"Erythromycin 400 mg four times a day for 10 days",edu:"http://google.com"},{item:"Azithromycin 500 mg on day 1 then 250 mg on days 2 to 5",edu:"http://google.com"},{item:"Cephalexin 500 mg twice a day for 10 days",edu:"http://google.com"}],a.systemicTherapyList=[{item:"Ibuprofen 400 mg",edu:"http://google.com"},{item:"Acetaminophen 1,000 mg",edu:"http://google.com"}]),a.topicalTherapyList=[{item:"Lozenges",edu:"http://google.com"},{item:"Sprays",edu:"http://google.com"},{item:"Gargles",edu:"http://google.com"},{item:"Gargling with salt water",edu:"http://google.com"},{item:"Lozenges with analgesics",edu:"http://google.com"},{item:"Lozenges with ambroxol",edu:"http://google.com"},{item:"Lozenges with lidocaine",edu:"http://google.com"},{item:"Lozenges with menthol",edu:"http://google.com"},{item:"Lozenges with benzocaine",edu:"http://google.com"},{item:"Throat sprays",edu:"http://google.com"}],a.corticosteroidsList=[{item:"dexamethasone at 0.6 mg/kg (max dose 10 mg in children) for severe cases of pain or difficulty swallowing",edu:"http://google.com"},{item:"Dexamethasone 10 mg IM for severe cases of pain or difficulty swallowing",edu:"http://google.com"},{item:"β-methasone 8 mg IM for severe cases of pain or difficulty swallowing",edu:"http://google.com"},{item:"Prednisone 60 mg oral for severe cases of pain or difficulty swallowing",edu:"http://google.com"}],a.diffDiagnosisList=a.diffDiagnosisList.filter(c,this.treatment.workingDiagnosis),a.labTestList=a.labTestList.filter(c,this.treatment.labTests),a.firstLineList=a.firstLineList.filter(c,this.treatment.firstLine),a.secondLineList=a.secondLineList.filter(c,this.treatment.secondLine),a.systemicTherapyList=a.systemicTherapyList.filter(c,this.treatment.systemicTherapy),a.topicalTherapyList=a.topicalTherapyList.filter(c,this.treatment.topicalTherapy),a.corticosteroidsList=a.corticosteroidsList.filter(c,this.treatment.corticosteroids),-1!=$.inArray("Bacterial Pharyngitis (GABHS)",this.treatment.workingDiagnosis)?(a.aftercare.notes="Aftercare instructions for Bacterial Pharyngitis (GABHS)\n\n",a.aftercare.notes+="There are several strategies you should utilize in order to prevent the further spread of infections, including using tissues to sneeze or cough, washing hands frequently while the infection is active, and not sharing glasses, utensils, or toothbrushes\n\n",a.aftercare.notes+="Increase fluids and rest while they are feeling badly. \n\n",a.aftercare.notes+="You are considered contagious until you have been on antibiotics for 24 hours. \n\n",a.aftercare.notes+="Toothbrushes should either be sterilized or replaced after you are no longer contagious to decrease risk of reinfection. \n\n",a.aftercare.notes+="You should see clinical improvement within 3 to 5 days after starting antibiotics or spontaneous resolution by day 5. If you fail to improve despite antibiotic use, get back to the clinic, your primary care provider or urgent care."):(a.aftercare.notes="Aftercare instructions for "+this.treatment.workingDiagnosis[0]+"\n\n",a.aftercare.notes+="There are several strategies you should utilize in order to prevent the further spread of infections, including using tissues to sneeze or cough, washing hands frequently while the infection is active, and not sharing glasses, utensils, or toothbrushes\n\n",a.aftercare.notes+="Increase fluids and rest while they are feeling badly. \n\n",a.aftercare.notes+="You should see clinical improvement within 3 to 5 days or spontaneous resolution by day 5. If you fail to improve, get back to the clinic, your primary care provider or urgent care.\n\n")}]);